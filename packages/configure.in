#                                               -*- Autoconf -*-
# Process this file with autoconf to produce a configure script.

AC_PREREQ(2.57)
AC_INIT([PSRPKG],[1.0],[psrchive-developers@lists.sourceforge.net])

AC_CONFIG_SRCDIR([tempo.csh.in])

AM_INIT_AUTOMAKE([foreign])

AC_ARG_VAR([PSRHOME],    [Standard pulsar home directory])
AC_ARG_VAR([LOGIN_ARCH], [Architecture-dependent sub-directory of PSRHOME])

AC_PREFIX_DEFAULT([${PSRHOME:-"/usr/local"}${PSRHOME:+"/$LOGIN_ARCH"}])

if test -z "$PSRHOME"; then
  AC_MSG_WARN([The PSRHOME environment variable is not set])
else
  if test -z "$LOGIN_ARCH"; then
    AC_MSG_WARN([The LOGIN_ARCH environment variable is not set])
  fi
fi

# Checks for download programs

AC_PATH_PROG(download, wget, no)
if test $download = no; then
  AC_PATH_PROG(download, curl, no)
  if test $download = no; then
    AC_MSG_ERROR([No download program was found])
  fi
  download="$download -f -L -O"
fi

AC_CONFIG_FILES([Makefile
		all.csh
		cfitsio.csh
		fftw.csh
		pgplot.csh
		psrcat.csh
		psrchive.csh
		tempo.csh
		tempo2.csh])

AC_CONFIG_COMMANDS(executable,[chmod a+x *.csh])

AC_OUTPUT

